Compiling FlashForth 5.0
------------------------

FlashForth 5.0 (FF) can be compiled
with the USB library and without.

FF may also be compiled for installation via
a device programmer (e.g. PicKit2) or a bootloader.
The bootloadable FF has been tested with is the
PICDEM FS USB Demo tool bootloader available from MicroChip.

The common configuration parameters are in p18f-main.cfg.
The device configuration bits and the USB definitions are in the
device specific configuration files.

UART mode
---------
For operation with the UART as the OPERATOR interface,
define a MPLAB or MPLABX project which compiles ff-pic18.asm.
The predefined MPLAB and MPLABX projects can also be used,

Undefine USB_CDC in the configuration file.

If you use a device programmer, use the FF_0000.lkr file 
and define CONFIG_RESET 0x0000 in p18f-main.cfg.

If you use a bootloader, use the FF_0800.lkr file 
and define CONFIG_RESET 0x0800 in p18f-main.cfg.

USB mode
--------
For operation with the USB CDC serial emulation as the OPERATOR
interface, define a MPLAB or MPLABX project which compiles
ff-pic18.asm and links FF_USB_xxxx.lib
The predefined MPLABX projects can also be used,

Define USB_CDC in the configuration file.
p18f14k50.cfg, p18f2455-2550-4455-4550.cfg, p18f2458-2553-4458-4553.cfg.

If you use a device programmer, use the FF_USB_0000.lkr file 
and define CONFIG_RESET 0x0000 in p18f-main.cfg.

If you use a bootloader, use the FF_USB_0800.lkr file 
and define CONFIG_RESET 0x0800 in p18f-main.cfg.

PIC18F14K50 has its own linker file for the USB mode.

The result of the compilation is a HEX file which can then be moved
to the target processor, either via a device programmer or a bootloader.

NOTE :
The USB VID and PID and the INF file provided with FlashForth
are purely for test purposes and for personal use.

Compilation with GPUTILS
------------------------
For the UART version:
gpasm -c -p p18f2455 ff-pic18.asm
gplink -s ../lkr/FF_0000.lkr -m -o ff-pic18 ff-pic18.o

For the USB version:
gpasm -c p18f2455 ff18_usb.asm
gpasm -c p18f2455 P18F_USB_REG.asm

FF_USB_xxxx.lib generated by mplib is not understood by gplink.
But mplink can be used instead.
mplink -p18f2455 -v ../lkr/FF_USB_0000.lkr P18F_USB_REG.o ff-pic18.o ../lib/FF_USB_18F2455.lib


